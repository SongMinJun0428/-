<div id="submit" class="tab-content bg-white rounded-xl shadow-lg p-8">
  <h2 class="text-2xl font-bold mb-4 text-blue-700">ğŸ“¤ ìˆ™ì œ ì—…ë¡œë“œ ë° ìë™ ì±„ì </h2>
  <p class="mb-4">ì´ë¦„ì„ ì…ë ¥í•˜ê³  ìˆ™ì œ íŒŒì¼ì„ ì—…ë¡œë“œí•˜ë©´ ìë™ìœ¼ë¡œ ì±„ì ë˜ê³  ì½”ë“œ ë‚´ìš©ë„ ë³´ì—¬ì§‘ë‹ˆë‹¤.</p>

  <!-- ì´ë¦„ ì…ë ¥ -->
  <input type="text" id="studentName" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" class="w-full border rounded px-4 py-2 mb-4" />

  <!-- íŒŒì¼ ì—…ë¡œë“œ -->
  <input type="file" id="homeworkFile" accept=".py,.txt" class="w-full border rounded px-4 py-2 mb-4" />

  <!-- ì±„ì  ë²„íŠ¼ -->
  <button onclick="gradeHomework()" class="mt-2 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">
    ì±„ì í•˜ê¸°
  </button>

  <!-- ê²°ê³¼ ì¶œë ¥ -->
  <div id="scoreResult" class="mt-6 text-xl text-blue-700 font-semibold"></div>

  <!-- ì½”ë“œ ë¯¸ë¦¬ë³´ê¸° -->
  <h3 class="text-lg font-bold mt-6 text-gray-800">ğŸ“„ ì—…ë¡œë“œí•œ ì½”ë“œ ë‚´ìš©</h3>
  <pre id="codePreview" class="bg-gray-100 p-4 rounded mt-2 whitespace-pre-wrap text-sm text-gray-700 overflow-auto"></pre>
</div>

<script>
  function gradeHomework() {
    const name = document.getElementById("studentName").value.trim();
    const fileInput = document.getElementById("homeworkFile");
    const resultDiv = document.getElementById("scoreResult");
    const preview = document.getElementById("codePreview");

    if (!name) {
      resultDiv.textContent = "âŒ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.";
      return;
    }

    if (!fileInput.files.length) {
      resultDiv.textContent = "âŒ íŒŒì¼ì„ ì—…ë¡œë“œí•´ì£¼ì„¸ìš”.";
      return;
    }

    const file = fileInput.files[0];
    const reader = new FileReader();

    reader.onload = function (e) {
      const content = e.target.result;
      let score = 0;

      // ì±„ì  ê¸°ì¤€
      if (content.includes("print(")) score += 30;
      if (content.includes("*")) score += 30;
      if (content.includes("=")) score += 20;
      if (content.includes("\n")) score += 20;

      // ê²°ê³¼ ì¶œë ¥
      resultDiv.innerHTML = `âœ… <strong>${name}</strong>ë‹˜ì˜ ì ìˆ˜ëŠ” <strong>${score}ì </strong>ì…ë‹ˆë‹¤.`;

      // ì½”ë“œ ë‚´ìš© ì¶œë ¥
      preview.textContent = content;
    };

    reader.readAsText(file);
  }
</script>
